"function"!=typeof Object.create&&(Object.create=function(b){function a(){}return a.prototype=b,new a}),function($,a,b,c){var d={init:function(c,b){var d,a=this;a.elem=b,a.$elem=$(b),a.imageSrc=a.$elem.data("zoom-image")?a.$elem.data("zoom-image"):a.$elem.attr("src"),a.options=$.extend({},$.fn.ezPlus.options,a.responsiveConfig(c||{})),a.options.enabled&&(a.options.tint&&(a.options.lensColour="none",a.options.lensOpacity="1"),"inner"===a.options.zoomType&&(a.options.showLens=!1),a.$elem.parent().removeAttr("title").removeAttr("alt"),a.zoomImage=a.imageSrc,a.refresh(1),(d=$(a.options.gallery?"#"+a.options.gallery:a.options.gallerySelector)).on("click.zoom",a.options.galleryItem,function(b){if(a.options.galleryActiveClass&&($(a.options.galleryItem,d).removeClass(a.options.galleryActiveClass),$(this).addClass(a.options.galleryActiveClass)),"A"===this.tagName&&b.preventDefault(),$(this).data("zoom-image")?a.zoomImagePre=$(this).data("zoom-image"):a.zoomImagePre=$(this).data("image"),a.swaptheimage($(this).data("image"),a.zoomImagePre),"A"===this.tagName)return!1}))},refresh:function(a){var b=this;setTimeout(function(){b.fetch(b.imageSrc)},a||b.options.refresh)},fetch:function(b){var c=this,a=new Image;a.onload=function(){c.largeWidth=a.width,c.largeHeight=a.height,c.startZoom(),c.currentImage=c.imageSrc,c.options.onZoomedImageLoaded(c.$elem)},c.setImageSource(a,b)},setImageSource:function(a,b){a.src=b},startZoom:function(){var c,d,e,a=this;a.nzWidth=a.$elem.width(),a.nzHeight=a.$elem.height(),a.isWindowActive=!1,a.isLensActive=!1,a.isTintActive=!1,a.overWindow=!1,a.options.imageCrossfade&&(a.zoomWrap=a.$elem.wrap('<div style="height:'+a.nzHeight+"px;width:"+a.nzWidth+'px;" class="zoomWrapper" />'),a.$elem.css("position","absolute")),a.zoomLock=1,a.scrollingLock=!1,a.changeBgSize=!1,a.currentZoomLevel=a.options.zoomLevel,a.nzOffset=a.$elem.offset(),a.widthRatio=a.largeWidth/a.currentZoomLevel/a.nzWidth,a.heightRatio=a.largeHeight/a.currentZoomLevel/a.nzHeight,"window"===a.options.zoomType&&(a.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(a.options.zoomWindowBgColour)+";width: "+String(a.options.zoomWindowWidth)+"px;height: "+String(a.options.zoomWindowHeight)+"px;float: left;background-size: "+a.largeWidth/a.currentZoomLevel+"px "+a.largeHeight/a.currentZoomLevel+"px;display: none;z-index:100;border: "+String(a.options.borderSize)+"px solid "+a.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"===a.options.zoomType&&(a.zoomWindowStyle="overflow: hidden;margin-left: "+String(c=a.$elem.css("border-left-width"))+";margin-top: "+String(c)+";background-position: 0px 0px;width: "+String(a.nzWidth)+"px;height: "+String(a.nzHeight)+"px;float: left;display: none;cursor:"+a.options.cursor+";px solid "+a.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"window"===a.options.zoomType&&(a.lensStyle=(d=a.nzHeight<a.options.zoomWindowHeight/a.heightRatio?a.nzHeight:String(a.options.zoomWindowHeight/a.heightRatio),e=a.largeWidth<a.options.zoomWindowWidth?a.nzWidth:String(a.options.zoomWindowWidth/a.widthRatio),"background-position: 0px 0px;width: "+String(a.options.zoomWindowWidth/a.widthRatio)+"px;height: "+String(a.options.zoomWindowHeight/a.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;opacity:"+a.options.lensOpacity+";filter: alpha(opacity = "+100*a.options.lensOpacity+"); zoom:1;width:"+e+"px;height:"+d+"px;background-color:"+a.options.lensColour+";cursor:"+a.options.cursor+";border: "+a.options.lensBorderSize+"px solid "+a.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;")),a.tintStyle="display: block;position: absolute;background-color: "+a.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+a.nzWidth+"px;height: "+a.nzHeight+"px;",a.lensRound="","lens"===a.options.zoomType&&(a.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(a.options.borderSize)+"px solid "+a.options.borderColour+";width:"+String(a.options.lensSize)+"px;height:"+String(a.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"===a.options.lensShape&&(a.lensRound="border-top-left-radius: "+String(a.options.lensSize/2+a.options.borderSize)+"px;border-top-right-radius: "+String(a.options.lensSize/2+a.options.borderSize)+"px;border-bottom-left-radius: "+String(a.options.lensSize/2+a.options.borderSize)+"px;border-bottom-right-radius: "+String(a.options.lensSize/2+a.options.borderSize)+"px;"),a.zoomContainer=$('<div class="zoomContainer" style="position:absolute;left:'+a.nzOffset.left+"px;top:"+a.nzOffset.top+"px;height:"+a.nzHeight+"px;width:"+a.nzWidth+"px;z-index:"+a.options.zIndex+'"></div>'),$(a.options.zoomContainerAppendTo).append(a.zoomContainer),a.options.containLensZoom&&"lens"===a.options.zoomType&&a.zoomContainer.css("overflow","hidden"),"inner"!==a.options.zoomType&&(a.zoomLens=$('<div class="zoomLens" style="'+a.lensStyle+a.lensRound+'">&nbsp;</div>').appendTo(a.zoomContainer).click(function(){a.$elem.trigger("click")}),a.options.tint&&(a.tintContainer=$("<div/>").addClass("tintContainer"),a.zoomTint=$('<div class="zoomTint" style="'+a.tintStyle+'"></div>'),a.zoomLens.wrap(a.tintContainer),a.zoomTintcss=a.zoomLens.after(a.zoomTint),a.zoomTintImage=$('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+a.nzWidth+"px; height: "+a.nzHeight+'px;" src="'+a.imageSrc+'">').appendTo(a.zoomLens).click(function(){a.$elem.trigger("click")})));var f=isNaN(a.options.zoomWindowPosition)?"body":a.zoomContainer;function g(b){(a.lastX!==b.clientX||a.lastY!==b.clientY)&&(a.setPosition(b),a.currentLoc=b),a.lastX=b.clientX,a.lastY=b.clientY}a.zoomWindow=$('<div style="z-index:999;left:'+a.windowOffsetLeft+"px;top:"+a.windowOffsetTop+"px;"+a.zoomWindowStyle+'" class="zoomWindow">&nbsp;</div>').appendTo(f).click(function(){a.$elem.trigger("click")}),a.zoomWindowContainer=$("<div/>").addClass("zoomWindowContainer").css("width",a.options.zoomWindowWidth),a.zoomWindow.wrap(a.zoomWindowContainer),"lens"===a.options.zoomType&&a.zoomLens.css("background-image",'url("'+a.imageSrc+'")'),"window"===a.options.zoomType&&a.zoomWindow.css("background-image",'url("'+a.imageSrc+'")'),"inner"===a.options.zoomType&&a.zoomWindow.css("background-image",'url("'+a.imageSrc+'")'),a.options.touchEnabled&&(a.$elem.bind("touchmove",function(b){b.preventDefault();var c=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0];a.setPosition(c)}),a.zoomContainer.bind("touchmove",function(b){"inner"===a.options.zoomType&&a.showHideWindow("show"),b.preventDefault();var c=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0];a.setPosition(c)}),a.zoomContainer.bind("touchend",function(b){a.showHideWindow("hide"),a.options.showLens&&a.showHideLens("hide"),a.options.tint&&"inner"!==a.options.zoomType&&a.showHideTint("hide")}),a.$elem.bind("touchend",function(b){a.showHideWindow("hide"),a.options.showLens&&a.showHideLens("hide"),a.options.tint&&"inner"!==a.options.zoomType&&a.showHideTint("hide")}),a.options.showLens&&(a.zoomLens.bind("touchmove",function(b){b.preventDefault();var c=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0];a.setPosition(c)}),a.zoomLens.bind("touchend",function(b){a.showHideWindow("hide"),a.options.showLens&&a.showHideLens("hide"),a.options.tint&&"inner"!==a.options.zoomType&&a.showHideTint("hide")}))),a.$elem.bind("mousemove",function(b){!1===a.overWindow&&a.setElements("show"),(a.lastX!==b.clientX||a.lastY!==b.clientY)&&(a.setPosition(b),a.currentLoc=b),a.lastX=b.clientX,a.lastY=b.clientY}),a.zoomContainer.bind("click",a.options.onImageClick),a.zoomContainer.bind("mousemove",function(b){!1===a.overWindow&&a.setElements("show"),g(b)});var b=null;"inner"!==a.options.zoomType&&(b=a.zoomLens),a.options.tint&&"inner"!==a.options.zoomType&&(b=a.zoomTint),"inner"===a.options.zoomType&&(b=a.zoomWindow),b&&b.bind("mousemove",g),a.zoomContainer.add(a.$elem).mouseenter(function(){!1===a.overWindow&&a.setElements("show")}).mouseleave(function(){a.scrollLock||(a.setElements("hide"),a.options.onDestroy(a.$elem))}),"inner"!==a.options.zoomType&&a.zoomWindow.mouseenter(function(){a.overWindow=!0,a.setElements("hide")}).mouseleave(function(){a.overWindow=!1}),a.options.minZoomLevel?a.minZoomLevel=a.options.minZoomLevel:a.minZoomLevel=2*a.options.scrollZoomIncrement,a.options.scrollZoom&&a.zoomContainer.add(a.$elem).bind("wheel DOMMouseScroll MozMousePixelScroll",function(b){a.scrollLock=!0,clearTimeout($.data(this,"timer")),$.data(this,"timer",setTimeout(function(){a.scrollLock=!1},250));var c=b.originalEvent.deltaY|| -1*b.originalEvent.detail;return b.stopImmediatePropagation(),b.stopPropagation(),b.preventDefault(),c/120>0?a.currentZoomLevel>=a.minZoomLevel&&a.changeZoomLevel(a.currentZoomLevel-a.options.scrollZoomIncrement):(a.fullheight||a.fullwidth)&&a.options.mantainZoomAspectRatio||(a.options.maxZoomLevel?a.currentZoomLevel<=a.options.maxZoomLevel&&a.changeZoomLevel(parseFloat(a.currentZoomLevel)+a.options.scrollZoomIncrement):a.changeZoomLevel(parseFloat(a.currentZoomLevel)+a.options.scrollZoomIncrement)),!1})},setElements:function(a){if(!this.options.zoomEnabled)return!1;"show"===a&&this.isWindowSet&&("inner"===this.options.zoomType&&this.showHideWindow("show"),"window"===this.options.zoomType&&this.showHideWindow("show"),this.options.showLens&&this.showHideLens("show"),this.options.tint&&"inner"!==this.options.zoomType&&this.showHideTint("show")),"hide"===a&&("window"===this.options.zoomType&&this.showHideWindow("hide"),this.options.tint||this.showHideWindow("hide"),this.options.showLens&&this.showHideLens("hide"),this.options.tint&&this.showHideTint("hide"))},setPosition:function(b){var c,d,a=this;if(!a.options.zoomEnabled)return!1;if(a.nzHeight=a.$elem.height(),a.nzWidth=a.$elem.width(),a.nzOffset=a.$elem.offset(),a.options.tint&&"inner"!==a.options.zoomType&&a.zoomTint.css({top:0,left:0}),a.options.responsive&&!a.options.scrollZoom&&a.options.showLens&&(c=a.nzHeight<a.options.zoomWindowWidth/a.widthRatio?a.nzHeight:String(a.options.zoomWindowHeight/a.heightRatio),d=a.largeWidth<a.options.zoomWindowWidth?a.nzWidth:a.options.zoomWindowWidth/a.widthRatio,a.widthRatio=a.largeWidth/a.nzWidth,a.heightRatio=a.largeHeight/a.nzHeight,"lens"!==a.options.zoomType&&(c=a.nzHeight<a.options.zoomWindowWidth/a.widthRatio?a.nzHeight:String(a.options.zoomWindowHeight/a.heightRatio),d=a.nzWidth<a.options.zoomWindowHeight/a.heightRatio?a.nzWidth:String(a.options.zoomWindowWidth/a.widthRatio),a.zoomLens.css({width:d,height:c}),a.options.tint&&a.zoomTintImage.css({width:a.nzWidth,height:a.nzHeight})),"lens"===a.options.zoomType&&a.zoomLens.css({width:String(a.options.lensSize)+"px",height:String(a.options.lensSize)+"px"})),a.zoomContainer.css({top:a.nzOffset.top,left:a.nzOffset.left}),a.mouseLeft=parseInt(b.pageX-a.nzOffset.left),a.mouseTop=parseInt(b.pageY-a.nzOffset.top),"window"===a.options.zoomType){var e=a.zoomLens.height()/2,f=a.zoomLens.width()/2;a.Etoppos=a.mouseTop<0+e,a.Eboppos=a.mouseTop>a.nzHeight-e-2*a.options.lensBorderSize,a.Eloppos=a.mouseLeft<0+f,a.Eroppos=a.mouseLeft>a.nzWidth-f-2*a.options.lensBorderSize}if("inner"===a.options.zoomType&&(a.Etoppos=a.mouseTop<a.nzHeight/2/a.heightRatio,a.Eboppos=a.mouseTop>a.nzHeight-a.nzHeight/2/a.heightRatio,a.Eloppos=a.mouseLeft<0+a.nzWidth/2/a.widthRatio,a.Eroppos=a.mouseLeft>a.nzWidth-a.nzWidth/2/a.widthRatio-2*a.options.lensBorderSize),a.mouseLeft<0||a.mouseTop<0||a.mouseLeft>a.nzWidth||a.mouseTop>a.nzHeight){a.setElements("hide");return}a.options.showLens&&(a.lensLeftPos=String(Math.floor(a.mouseLeft-a.zoomLens.width()/2)),a.lensTopPos=String(Math.floor(a.mouseTop-a.zoomLens.height()/2))),a.Etoppos&&(a.lensTopPos=0),a.Eloppos&&(a.windowLeftPos=0,a.lensLeftPos=0,a.tintpos=0),"window"===a.options.zoomType&&(a.Eboppos&&(a.lensTopPos=Math.max(a.nzHeight-a.zoomLens.height()-2*a.options.lensBorderSize,0)),a.Eroppos&&(a.lensLeftPos=a.nzWidth-a.zoomLens.width()-2*a.options.lensBorderSize)),"inner"===a.options.zoomType&&(a.Eboppos&&(a.lensTopPos=Math.max(a.nzHeight-2*a.options.lensBorderSize,0)),a.Eroppos&&(a.lensLeftPos=a.nzWidth-a.nzWidth-2*a.options.lensBorderSize)),"lens"===a.options.zoomType&&(a.windowLeftPos=String(-(((b.pageX-a.nzOffset.left)*a.widthRatio-a.zoomLens.width()/2)*1)),a.windowTopPos=String(-(((b.pageY-a.nzOffset.top)*a.heightRatio-a.zoomLens.height()/2)*1)),a.zoomLens.css("background-position",a.windowLeftPos+"px "+a.windowTopPos+"px"),a.changeBgSize&&(a.nzHeight>a.nzWidth?("lens"===a.options.zoomType&&a.zoomLens.css("background-size",a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"),a.zoomWindow.css("background-size",a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px")):("lens"===a.options.zoomType&&a.zoomLens.css("background-size",a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px"),a.zoomWindow.css("background-size",a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px")),a.changeBgSize=!1),a.setWindowPosition(b)),a.options.tint&&"inner"!==a.options.zoomType&&a.setTintPosition(b),"window"===a.options.zoomType&&a.setWindowPosition(b),"inner"===a.options.zoomType&&a.setWindowPosition(b),a.options.showLens&&(a.fullwidth&&"lens"!==a.options.zoomType&&(a.lensLeftPos=0),a.zoomLens.css({left:a.lensLeftPos+"px",top:a.lensTopPos+"px"}))},showHideZoomContainer:function(a){"show"===a&&this.zoomContainer&&this.zoomContainer.show(),"hide"===a&&this.zoomContainer&&this.zoomContainer.hide()},showHideWindow:function(b){var a=this;"show"===b&& !a.isWindowActive&&a.zoomWindow&&(a.options.onShow(a),a.options.zoomWindowFadeIn?a.zoomWindow.stop(!0,!0,!1).fadeIn(a.options.zoomWindowFadeIn):a.zoomWindow.show(),a.isWindowActive=!0),"hide"===b&&a.isWindowActive&&(a.options.zoomWindowFadeOut?a.zoomWindow.stop(!0,!0).fadeOut(a.options.zoomWindowFadeOut,function(){a.loop&&(clearInterval(a.loop),a.loop=!1)}):a.zoomWindow.hide(),a.isWindowActive=!1)},showHideLens:function(b){var a=this;"show"!==b||a.isLensActive||(a.options.lensFadeIn&&a.zoomLens?a.zoomLens.stop(!0,!0,!1).fadeIn(a.options.lensFadeIn):a.zoomLens.show(),a.isLensActive=!0),"hide"===b&&a.isLensActive&&(a.options.lensFadeOut?a.zoomLens.stop(!0,!0).fadeOut(a.options.lensFadeOut):a.zoomLens.hide(),a.isLensActive=!1)},showHideTint:function(b){var a=this;"show"===b&& !a.isTintActive&&a.zoomTint&&(a.options.zoomTintFadeIn?a.zoomTint.css("opacity",a.options.tintOpacity).animate().stop(!0,!0).fadeIn("slow"):(a.zoomTint.css("opacity",a.options.tintOpacity).animate(),a.zoomTint.show()),a.isTintActive=!0),"hide"===b&&a.isTintActive&&(a.options.zoomTintFadeOut?a.zoomTint.stop(!0,!0).fadeOut(a.options.zoomTintFadeOut):a.zoomTint.hide(),a.isTintActive=!1)},setLensPosition:function(a){},setWindowPosition:function(b){var a=this;if(isNaN(a.options.zoomWindowPosition))a.externalContainer=$("#"+a.options.zoomWindowPosition),a.externalContainerWidth=a.externalContainer.width(),a.externalContainerHeight=a.externalContainer.height(),a.externalContainerOffset=a.externalContainer.offset(),a.windowOffsetTop=a.externalContainerOffset.top,a.windowOffsetLeft=a.externalContainerOffset.left;else switch(a.options.zoomWindowPosition){case 1:a.windowOffsetTop=a.options.zoomWindowOffsetY,a.windowOffsetLeft=+a.nzWidth;break;case 2:a.options.zoomWindowHeight>a.nzHeight?(a.windowOffsetTop=-((a.options.zoomWindowHeight/2-a.nzHeight/2)*1),a.windowOffsetLeft=a.nzWidth):$.noop();break;case 3:a.windowOffsetTop=a.nzHeight-a.zoomWindow.height()-2*a.options.borderSize,a.windowOffsetLeft=a.nzWidth;break;case 4:a.windowOffsetTop=a.nzHeight,a.windowOffsetLeft=a.nzWidth;break;case 5:a.windowOffsetTop=a.nzHeight,a.windowOffsetLeft=a.nzWidth-a.zoomWindow.width()-2*a.options.borderSize;break;case 6:a.options.zoomWindowHeight>a.nzHeight?(a.windowOffsetTop=a.nzHeight,a.windowOffsetLeft=-((a.options.zoomWindowWidth/2-a.nzWidth/2+2*a.options.borderSize)*1)):$.noop();break;case 7:a.windowOffsetTop=a.nzHeight,a.windowOffsetLeft=0;break;case 8:a.windowOffsetTop=a.nzHeight,a.windowOffsetLeft=-((a.zoomWindow.width()+2*a.options.borderSize)*1);break;case 9:a.windowOffsetTop=a.nzHeight-a.zoomWindow.height()-2*a.options.borderSize,a.windowOffsetLeft=-((a.zoomWindow.width()+2*a.options.borderSize)*1);break;case 10:a.options.zoomWindowHeight>a.nzHeight?(a.windowOffsetTop=-((a.options.zoomWindowHeight/2-a.nzHeight/2)*1),a.windowOffsetLeft=-((a.zoomWindow.width()+2*a.options.borderSize)*1)):$.noop();break;case 11:a.windowOffsetTop=a.options.zoomWindowOffsetY,a.windowOffsetLeft=-((a.zoomWindow.width()+2*a.options.borderSize)*1);break;case 12:a.windowOffsetTop=-((a.zoomWindow.height()+2*a.options.borderSize)*1),a.windowOffsetLeft=-((a.zoomWindow.width()+2*a.options.borderSize)*1);break;case 13:a.windowOffsetTop=-((a.zoomWindow.height()+2*a.options.borderSize)*1),a.windowOffsetLeft=0;break;case 14:a.options.zoomWindowHeight>a.nzHeight?(a.windowOffsetTop=-((a.zoomWindow.height()+2*a.options.borderSize)*1),a.windowOffsetLeft=-((a.options.zoomWindowWidth/2-a.nzWidth/2+2*a.options.borderSize)*1)):$.noop();break;case 15:a.windowOffsetTop=-((a.zoomWindow.height()+2*a.options.borderSize)*1),a.windowOffsetLeft=a.nzWidth-a.zoomWindow.width()-2*a.options.borderSize;break;case 16:a.windowOffsetTop=-((a.zoomWindow.height()+2*a.options.borderSize)*1),a.windowOffsetLeft=a.nzWidth;break;default:a.windowOffsetTop=a.options.zoomWindowOffsetY,a.windowOffsetLeft=a.nzWidth}a.isWindowSet=!0,a.windowOffsetTop=a.windowOffsetTop+a.options.zoomWindowOffsetY,a.windowOffsetLeft=a.windowOffsetLeft+a.options.zoomWindowOffsetX,a.zoomWindow.css({top:a.windowOffsetTop,left:a.windowOffsetLeft}),"inner"===a.options.zoomType&&a.zoomWindow.css({top:0,left:0}),a.windowLeftPos=String(-(((b.pageX-a.nzOffset.left)*a.widthRatio-a.zoomWindow.width()/2)*1)),a.windowTopPos=String(-(((b.pageY-a.nzOffset.top)*a.heightRatio-a.zoomWindow.height()/2)*1)),a.Etoppos&&(a.windowTopPos=0),a.Eloppos&&(a.windowLeftPos=0),a.Eboppos&&(a.windowTopPos=-((a.largeHeight/a.currentZoomLevel-a.zoomWindow.height())*1)),a.Eroppos&&(a.windowLeftPos=-((a.largeWidth/a.currentZoomLevel-a.zoomWindow.width())*1)),a.fullheight&&(a.windowTopPos=0),a.fullwidth&&(a.windowLeftPos=0),"window"!==a.options.zoomType&&"inner"!==a.options.zoomType||(1===a.zoomLock&&(a.widthRatio<=1&&(a.windowLeftPos=0),a.heightRatio<=1&&(a.windowTopPos=0)),"window"===a.options.zoomType&&(a.largeHeight<a.options.zoomWindowHeight&&(a.windowTopPos=0),a.largeWidth<a.options.zoomWindowWidth&&(a.windowLeftPos=0)),a.options.easing?(a.xp||(a.xp=0),a.yp||(a.yp=0),a.loop||(a.loop=setInterval(function(){a.xp+=(a.windowLeftPos-a.xp)/a.options.easingAmount,a.yp+=(a.windowTopPos-a.yp)/a.options.easingAmount,a.scrollingLock?(clearInterval(a.loop),a.xp=a.windowLeftPos,a.yp=a.windowTopPos,a.xp=-(((b.pageX-a.nzOffset.left)*a.widthRatio-a.zoomWindow.width()/2)*1),a.yp=-(((b.pageY-a.nzOffset.top)*a.heightRatio-a.zoomWindow.height()/2)*1),a.changeBgSize&&(a.nzHeight>a.nzWidth?("lens"===a.options.zoomType&&a.zoomLens.css("background-size",a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"),a.zoomWindow.css("background-size",a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px")):("lens"!==a.options.zoomType&&a.zoomLens.css("background-size",a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvalueheight+"px"),a.zoomWindow.css("background-size",a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px")),a.changeBgSize=!1),a.zoomWindow.css("background-position",a.windowLeftPos+"px "+a.windowTopPos+"px"),a.scrollingLock=!1,a.loop=!1):1>Math.round(Math.abs(a.xp-a.windowLeftPos)+Math.abs(a.yp-a.windowTopPos))?(clearInterval(a.loop),a.zoomWindow.css("background-position",a.windowLeftPos+"px "+a.windowTopPos+"px"),a.loop=!1):(a.changeBgSize&&(a.nzHeight>a.nzWidth?("lens"===a.options.zoomType&&a.zoomLens.css("background-size",a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"),a.zoomWindow.css("background-size",a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px")):("lens"!==a.options.zoomType&&a.zoomLens.css("background-size",a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px"),a.zoomWindow.css("background-size",a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px")),a.changeBgSize=!1),a.zoomWindow.css("background-position",a.xp+"px "+a.yp+"px"))},16))):(a.changeBgSize&&(a.nzHeight>a.nzWidth?("lens"===a.options.zoomType&&a.zoomLens.css("background-size",a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px"),a.zoomWindow.css("background-size",a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px")):("lens"===a.options.zoomType&&a.zoomLens.css("background-size",a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px"),a.largeHeight/a.newvaluewidth<a.options.zoomWindowHeight?a.zoomWindow.css("background-size",a.largeWidth/a.newvaluewidth+"px "+a.largeHeight/a.newvaluewidth+"px"):a.zoomWindow.css("background-size",a.largeWidth/a.newvalueheight+"px "+a.largeHeight/a.newvalueheight+"px")),a.changeBgSize=!1),a.zoomWindow.css("background-position",a.windowLeftPos+"px "+a.windowTopPos+"px")))},setTintPosition:function(b){var a=this,c=a.zoomLens.width(),d=a.zoomLens.height();a.nzOffset=a.$elem.offset(),a.tintpos=String(-((b.pageX-a.nzOffset.left-c/2)*1)),a.tintposy=String(-((b.pageY-a.nzOffset.top-d/2)*1)),a.Etoppos&&(a.tintposy=0),a.Eloppos&&(a.tintpos=0),a.Eboppos&&(a.tintposy=-((a.nzHeight-d-2*a.options.lensBorderSize)*1)),a.Eroppos&&(a.tintpos=-((a.nzWidth-c-2*a.options.lensBorderSize)*1)),a.options.tint&&(a.fullheight&&(a.tintposy=0),a.fullwidth&&(a.tintpos=0),a.zoomTintImage.css({left:a.tintpos+"px",top:a.tintposy+"px"}))},swaptheimage:function(d,c){var a=this,b=new Image;a.options.loadingIcon&&(a.spinner=$("<div style=\"background: url('"+a.options.loadingIcon+"') no-repeat center;height:"+a.nzHeight+"px;width:"+a.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),a.$elem.after(a.spinner)),a.options.onImageSwap(a.$elem),b.onload=function(){a.largeWidth=b.width,a.largeHeight=b.height,a.zoomImage=c,a.zoomWindow.css("background-size",a.largeWidth+"px "+a.largeHeight+"px"),a.swapAction(d,c)},a.setImageSource(b,c)},swapAction:function(g,d){var a=this,c=a.$elem.width(),b=a.$elem.height(),j=new Image;if(j.onload=function(){a.nzHeight=j.height,a.nzWidth=j.width,a.options.onImageSwapComplete(a.$elem),a.doneCallback()},a.setImageSource(j,g),a.currentZoomLevel=a.options.zoomLevel,a.options.maxZoomLevel=!1,"lens"===a.options.zoomType&&a.zoomLens.css("background-image",'url("'+d+'")'),"window"===a.options.zoomType&&a.zoomWindow.css("background-image",'url("'+d+'")'),"inner"===a.options.zoomType&&a.zoomWindow.css("background-image",'url("'+d+'")'),a.currentImage=d,a.options.imageCrossfade){var k=a.$elem,l=k.clone();if(a.$elem.attr("src",g),a.$elem.after(l),l.stop(!0).fadeOut(a.options.imageCrossfade,function(){$(this).remove()}),a.$elem.width("auto").removeAttr("width"),a.$elem.height("auto").removeAttr("height"),k.fadeIn(a.options.imageCrossfade),a.options.tint&&"inner"!==a.options.zoomType){var m=a.zoomTintImage,n=m.clone();a.zoomTintImage.attr("src",d),a.zoomTintImage.after(n),n.stop(!0).fadeOut(a.options.imageCrossfade,function(){$(this).remove()}),m.fadeIn(a.options.imageCrossfade),a.zoomTint.css({height:b,width:c})}a.zoomContainer.css({height:b,width:c}),"inner"!==a.options.zoomType||a.options.constrainType||(a.zoomWrap.parent().css({height:b,width:c}),a.zoomWindow.css({height:b,width:c})),a.options.imageCrossfade&&a.zoomWrap.css({height:b,width:c})}else a.$elem.attr("src",g),a.options.tint&&(a.zoomTintImage.attr("src",d),a.zoomTintImage.attr("height",b),a.zoomTintImage.css("height",b),a.zoomTint.css("height",b)),a.zoomContainer.css({height:b,width:c}),a.options.imageCrossfade&&a.zoomWrap.css({height:b,width:c});if(a.options.constrainType){if("height"===a.options.constrainType){var h={height:a.options.constrainSize,width:"auto"};a.zoomContainer.css(h),a.options.imageCrossfade?(a.zoomWrap.css(h),a.constwidth=a.zoomWrap.width()):(a.$elem.css(h),a.constwidth=c);var e={height:a.options.constrainSize,width:a.constwidth};"inner"===a.options.zoomType&&(a.zoomWrap.parent().css(e),a.zoomWindow.css(e)),a.options.tint&&(a.tintContainer.css(e),a.zoomTint.css(e),a.zoomTintImage.css(e))}if("width"===a.options.constrainType){var i={height:"auto",width:a.options.constrainSize};a.zoomContainer.css(i),a.options.imageCrossfade?(a.zoomWrap.css(i),a.constheight=a.zoomWrap.height()):(a.$elem.css(i),a.constheight=b);var f={height:a.constheight,width:a.options.constrainSize};"inner"===a.options.zoomType&&(a.zoomWrap.parent().css(f),a.zoomWindow.css(f)),a.options.tint&&(a.tintContainer.css(f),a.zoomTint.css(f),a.zoomTintImage.css(f))}}},doneCallback:function(){var b,c,a=this;a.options.loadingIcon&&a.spinner.hide(),a.nzOffset=a.$elem.offset(),a.nzWidth=a.$elem.width(),a.nzHeight=a.$elem.height(),a.currentZoomLevel=a.options.zoomLevel,a.widthRatio=a.largeWidth/a.nzWidth,a.heightRatio=a.largeHeight/a.nzHeight,"window"===a.options.zoomType&&(b=a.nzHeight<a.options.zoomWindowHeight/a.heightRatio?a.nzHeight:String(a.options.zoomWindowHeight/a.heightRatio),c=a.nzWidth<a.options.zoomWindowWidth?a.nzWidth:a.options.zoomWindowWidth/a.widthRatio,a.zoomLens&&a.zoomLens.css({width:c,height:b}))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var a=this;return a.gallerylist=[],a.options.gallery?$("#"+a.options.gallery+" a").each(function(){var b="";$(this).data("zoom-image")?b=$(this).data("zoom-image"):$(this).data("image")&&(b=$(this).data("image")),b===a.zoomImage?a.gallerylist.unshift({href:""+b,title:$(this).find("img").attr("title")}):a.gallerylist.push({href:""+b,title:$(this).find("img").attr("title")})}):a.gallerylist.push({href:""+a.zoomImage,title:$(this).find("img").attr("title")}),a.gallerylist},changeZoomLevel:function(f){var a=this;a.scrollingLock=!0,a.newvalue=parseFloat(f).toFixed(2);var b=a.newvalue,c=a.largeHeight/(a.options.zoomWindowHeight/a.nzHeight*a.nzHeight),d=a.largeWidth/(a.options.zoomWindowWidth/a.nzWidth*a.nzWidth);"inner"!==a.options.zoomType&&(c<=b?(a.heightRatio=a.largeHeight/c/a.nzHeight,a.newvalueheight=c,a.fullheight=!0):(a.heightRatio=a.largeHeight/b/a.nzHeight,a.newvalueheight=b,a.fullheight=!1),d<=b?(a.widthRatio=a.largeWidth/d/a.nzWidth,a.newvaluewidth=d,a.fullwidth=!0):(a.widthRatio=a.largeWidth/b/a.nzWidth,a.newvaluewidth=b,a.fullwidth=!1),"lens"===a.options.zoomType&&(c<=b?(a.fullwidth=!0,a.newvaluewidth=c):(a.widthRatio=a.largeWidth/b/a.nzWidth,a.newvaluewidth=b,a.fullwidth=!1))),"inner"===a.options.zoomType&&(c=parseFloat(a.largeHeight/a.nzHeight).toFixed(2),d=parseFloat(a.largeWidth/a.nzWidth).toFixed(2),b>c&&(b=c),b>d&&(b=d),c<=b?(a.heightRatio=a.largeHeight/b/a.nzHeight,b>c?a.newvalueheight=c:a.newvalueheight=b,a.fullheight=!0):(a.heightRatio=a.largeHeight/b/a.nzHeight,b>c?a.newvalueheight=c:a.newvalueheight=b,a.fullheight=!1),d<=b?(a.widthRatio=a.largeWidth/b/a.nzWidth,b>d?a.newvaluewidth=d:a.newvaluewidth=b,a.fullwidth=!0):(a.widthRatio=a.largeWidth/b/a.nzWidth,a.newvaluewidth=b,a.fullwidth=!1));var e=!1;"inner"===a.options.zoomType&&(a.nzWidth>=a.nzHeight&&(a.newvaluewidth<=d?e=!0:(e=!1,a.fullheight=!0,a.fullwidth=!0)),a.nzHeight>a.nzWidth&&(a.newvaluewidth<=d?e=!0:(e=!1,a.fullheight=!0,a.fullwidth=!0))),"inner"!==a.options.zoomType&&(e=!0),e&&(a.zoomLock=0,a.changeZoom=!0,a.options.zoomWindowHeight/a.heightRatio<=a.nzHeight&&(a.currentZoomLevel=a.newvalueheight,"lens"!==a.options.zoomType&&"inner"!==a.options.zoomType&&(a.changeBgSize=!0,a.zoomLens.css("height",String(a.options.zoomWindowHeight/a.heightRatio)+"px")),("lens"===a.options.zoomType||"inner"===a.options.zoomType)&&(a.changeBgSize=!0)),a.options.zoomWindowWidth/a.widthRatio<=a.nzWidth&&("inner"!==a.options.zoomType&&a.newvaluewidth>a.newvalueheight&&(a.currentZoomLevel=a.newvaluewidth),"lens"!==a.options.zoomType&&"inner"!==a.options.zoomType&&(a.changeBgSize=!0,a.zoomLens.css("width",String(a.options.zoomWindowWidth/a.widthRatio)+"px")),("lens"===a.options.zoomType||"inner"===a.options.zoomType)&&(a.changeBgSize=!0)),"inner"===a.options.zoomType&&(a.changeBgSize=!0,a.nzWidth>a.nzHeight&&(a.currentZoomLevel=a.newvaluewidth),a.nzHeight>a.nzWidth&&(a.currentZoomLevel=a.newvaluewidth))),a.setPosition(a.currentLoc)},closeAll:function(){this.zoomWindow&&this.zoomWindow.hide(),this.zoomLens&&this.zoomLens.hide(),this.zoomTint&&this.zoomTint.hide()},changeState:function(a){var b=this;"enable"===a&&(b.options.zoomEnabled=!0),"disable"===a&&(b.options.zoomEnabled=!1)},responsiveConfig:function(a){return a.respond&&a.respond.length>0?$.extend({},a,this.configByScreenWidth(a)):a},configByScreenWidth:function(b){var d=$(a).width(),c=$.grep(b.respond,function(b){var a=b.range.split("-");return d>=a[0]&&d<=a[1]});return c.length>0?c[0]:b}};$.fn.ezPlus=function(a){return this.each(function(){var b=Object.create(d);b.init(a,this),$.data(this,"ezPlus",b)})},$.fn.ezPlus.options={borderColour:"#888",borderSize:4,constrainSize:!1,constrainType:!1,containLensZoom:!1,cursor:"inherit",debug:!1,easing:!1,easingAmount:12,enabled:!0,gallery:!1,galleryActiveClass:"zoomGalleryActive",gallerySelector:!1,galleryItem:"a",imageCrossfade:!1,lensBorderColour:"#000",lensBorderSize:1,lensColour:"white",lensFadeIn:!1,lensFadeOut:!1,lensOpacity:.4,lensShape:"square",lensSize:200,lenszoom:!1,loadingIcon:!1,mantainZoomAspectRatio:!1,maxZoomLevel:!1,minZoomLevel:!1,onComplete:$.noop,onDestroy:$.noop,onImageClick:$.noop,onImageSwap:$.noop,onImageSwapComplete:$.noop,onShow:$.noop,onZoomedImageLoaded:$.noop,preloading:1,respond:[],responsive:!0,scrollZoom:!1,scrollZoomIncrement:.1,showLens:!0,tint:!1,tintColour:"#333",tintOpacity:.4,touchEnabled:!0,zoomActivation:"hover",zoomContainerAppendTo:"body",zoomLevel:1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,zoomType:"window",zoomWindowAlwaysShow:!1,zoomWindowBgColour:"#fff",zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowHeight:400,zoomWindowOffsetX:0,zoomWindowOffsetY:0,zoomWindowPosition:1,zoomWindowWidth:400,zoomEnabled:!0}}(jQuery,window,document)